<!--
   Aqui, buscou-se apenas mostrar como funciona o traçado das rotas, portanto optou-se por apenas copiar e colar o código no 
   documento.  
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #map {
            width: 500pt;
            height: 350pt;
            margin-top: 10px;
            margin-left: 25%;
        }
    </style>
</head>

<body>
 

    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBl_UJ_MQziKKhB-GB2MIVrXrhUwlX6IyY&libraries=directions,geometry,places&callback=initMap"
        async defer></script>

        <div id="floating-panel">
            <b>Mode of Travel: </b>
            <select id="mode">
              <option value="DRIVING">Driving</option>
              <option value="WALKING">Walking</option>
              <option value="BICYCLING">Bicycling</option>
              <option value="TRANSIT">Transit</option>
            </select>
            </div>
            <div id="map"></div>
            <script>
              function initMap() {
                var directionsRenderer = new google.maps.DirectionsRenderer;
                var directionsService = new google.maps.DirectionsService;
             
                directionsRenderer.setMap(map);
        
                calculateAndDisplayRoute(directionsService, directionsRenderer);
                document.getElementById('mode').addEventListener('change', function() {
                  calculateAndDisplayRoute(directionsService, directionsRenderer);
                });
              }
        
              function calculateAndDisplayRoute(directionsService, directionsRenderer) {
                var selectedMode = document.getElementById('mode').value;
                directionsService.route({
                  origin: {lat: 37.77, lng: -122.447},  // Haight.
                  destination: {lat: 37.768, lng: -122.511},  // Ocean Beach.
                  // Note that Javascript allows us to access the constant
                  // using square brackets and a string value as its
                  // "property."
                  travelMode: google.maps.TravelMode[selectedMode]
                }, function(response, status) {
                  if (status == 'OK') {
                      console.log("PONTOS INTERMEDIÀRIOS ===> " + response.routes[0].overview_path) 
                    directionsRenderer.setDirections(response);
                  } else {
                    window.alert('Directions request failed due to ' + status);
                  }
                });
              }
            
            </script>
</body>

</html>